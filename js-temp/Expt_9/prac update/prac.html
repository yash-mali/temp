<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form id="studentForm" onsubmit="validateForm(event)" action="">

        <label for="name">Name:</label>
        <input type="text" name="name" placeholder="enter name" id="name" required>
        <p class="error" id="nameError"></p>

        <label for="address">Address</label>
        <input type="text" name="address" id="address" placeholder="enter address" required>
        <p class="error" id="addressError"></p>

        <label for="city">city</label>
        <input type="text" id="city" placeholder="enter city" name="city" required>
        <p class="error" id="cityError" ></p>

        <label for="state">State:</label>
            <input type="text" id="state" required><br>
            <span id="stateError" class="error"></span><br>

        <label for="gender">Gender</label>
        <select name="gender" id="gender">
            <option value="male">male</option>
            <option value="female">female</option>
        </select>
        <br>
        <br>
        <label for="mobile">Mobile Number</label>
        <input type="number" id="mobile" name="mobile" placeholder="enter number" required>
        <p class="error" id="mobileError" ></p>


        <label for="email">email</label>
        <input type="text" name="email" id="email" placeholder="Enter email" required>
        <p class="error" id="emailError" ></p>

        <button type="submit" >Submit</button>
    </form>


    <script type="text/javascript">
        function validateForm(event){
        event.preventDefault();
        //  document.querySelectorAll('.error').forEach(element=>element.textContent='');
       
        document.querySelectorAll('.error').forEach(element => element.textContent = '');
        let valid = true;

            var name = document.getElementById("name").value;
        var mobile = document.getElementById("mobile").value;
        var email = document.getElementById("email").value;
        var address = document.getElementById("address").value;
        var city = document.getElementById("city").value;
        var state = document.getElementById("state").value;

        var namePattern= /^[A-Za-z\s]+$/;  
        if(!name.match(namePattern)){
            document.getElementById("nameError").textContent = 'Please enter a valid name';
            valid= false;
        }

        var mobilePattern=/^\d{10}$/;
        if (!mobile.match(mobilePattern)) {
          document.getElementById("mobileError").textContent = 'Please enter a valid mobile no';
          valid=false;
        } 

      // Validation for email
      var emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
        if (!email.match(emailPattern)) {
          document.getElementById("emailError").textContent = 'Please enter a valid email';
          valid=false;
        } 


        var addressPattern= /^[a-zA-Z0-9\s,'-]*$/;
      
    if (!address.match(addressPattern)) {
          document.getElementById("addressError").textContent = 'Please enter a valid add';
           valid=false;
        } 

       
        if (!city.match(namePattern)) {
          document.getElementById("cityError").textContent = 'Please enter a valid city';
           valid=false;
        }

         if (!state.match(namePattern)) {
          document.getElementById("stateError").textContent = 'Please enter a valid state';
           valid=false;
        } 



        if(valid){
            const userName = encodeURIComponent(name);
            window.location.href=`pracwelcome.html?name=${userName}`
        }



    }
    </script>
</body>

</html>